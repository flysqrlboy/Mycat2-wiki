# 配置说明

  所有配置文件格式 均为 yaml 格式。yaml 语法格式 在这里不再赘述。

- [mycat.yml：mycat代理的配置，指定开启的端口号提供代理服务](#mycat代理配置)

- [user.yml: 配置mycat的用户名密码和白名单](#用户名密码和白名单配置)

- [cluster.yml：集群配置，可以开启关闭集群功能，指定集群端口和id号，id在集群内必须唯一 ](#集群配置)

- [balancer.yml：负载均衡配置，可以开启关闭负载均衡，负载均衡只有在集群模式下才生效](#负载均衡配置)

- [heartbeat.yml：心跳配置，指定心跳周期及切换间隔](#心跳配置)

- [schema.yml：mycat的逻辑库](#schema配置)

- [datasource.yml：后端数据源配置](#配置)

- replica-index.yml：指定datasource.yml中复制组的写节点。（禁止手工修改）

- [sharding-rule.yml：分片规则](#分片规则配置)

- [actions.yml：动态注解类配置](#动态注解类配置)

- [annotations.yml：动态注解规则配置](#动态注解规则配置)

mycat代理配置
------
mycat代理配置 在 mycat.yml 文件中

配置格式 如下：

```yaml
proxy:
  ip: 0.0.0.0    #  bind ip
  port: 8066     #  port
```

用户名密码和白名单配置
------

用户名密码和白名单配置  在 user.yml 文件中


```yaml

users:
  - name: root                   #  登录 mycat 用户名
    password: 123456             #  登录 mycat 密码
    schemas:                     #  schema.yml 中配置的 mycat 逻辑库名
      - test                     # 逻辑库 名
      - test1                    # 逻辑库 名
      - test2                    # 逻辑库 名

firewall:                        防火墙配置
  enable: false                  # 是否启用防火墙
  white:                         # 防火墙白名单    限制  只能固定IP 或网段的 用户可以登录
    - host: 172.16.*.*           # ip或 网段
      user: root                 # 用户
```

集群配置
------

集群配置在  cluster.yml文件中

```yaml

cluster:
  enable: false                  # 是否加入集群
  ip: 0.0.0.0
  port: 9067                     # 集群通信端口
  myNodeId: leader-2             # 当前节点唯一id
  allNodes: leader-1:127.0.0.1:9066,leader-2:127.0.0.1:9067,leader-3:127.0.0.1:9068
  prepareDelaySeconds: 30        # 

```
