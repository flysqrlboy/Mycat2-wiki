# 配置说明

  所有配置文件格式 均为 yaml 格式。yaml 语法格式 在这里不再赘述。

- [mycat.yml：mycat代理的配置，指定开启的端口号提供代理服务](#mycat代理配置)

- [user.yml: 配置mycat的用户名密码和白名单](#用户名密码和白名单配置)

- [cluster.yml：集群配置，可以开启关闭集群功能，指定集群端口和id号，id在集群内必须唯一 ](./1.1.3-cluster.yml-集群配置)

- [balancer.yml：负载均衡配置，可以开启关闭负载均衡，负载均衡只有在集群模式下才生效](./1.1.4-balance.yml-负载均衡配置)

- [heartbeat.yml：心跳配置，指定心跳周期及切换间隔](./1.1.5-heartbeat.yml-心跳配置)

- [schema.yml：mycat的逻辑库](./1.1.6-schema.yml-schema-配置)

- [datasource.yml：后端数据库的复制组配置](./1.1.7-datasource.yml-配置)

- [replica-index.yml：指定datasource.yml中复制组的写节点，默认为0](./1.1.8--replica-index.yml-（禁止修改）)

- [sharding-rule.yml：分片规则](./1.1.9-sharding-rule.yml-分片规则)

mycat代理配置
------

配置格式 如下：

```yaml
proxy:
  ip: 0.0.0.0    #  bind ip
  port: 8066     #  port
```

用户名密码和白名单配置
------

```yaml

users:
  - name: root                   #  登录 mycat 用户名
    password: 123456             #  登录 mycat 密码
    schemas:                     #  schema.yml 中配置的 mycat 逻辑库名
      - test                     # 逻辑库 名
      - test1                    # 逻辑库 名
      - test2                    # 逻辑库 名

firewall:                        防火墙配置
  enable: false                  # 是否启用防火墙
  white:                         # 防火墙白名单    限制  只能固定IP 或网段的 用户可以登录
    - host: 172.16.*.*           # ip或 网段
      user: root                 # 用户
```

# cluster.yml 集群配置

```yaml

cluster:
  enable: false                  # 是否加入集群
  ip: 0.0.0.0
  port: 9067                     # 集群通信端口
  myNodeId: leader-2             # 当前节点唯一id
  allNodes: leader-1:127.0.0.1:9066,leader-2:127.0.0.1:9067,leader-3:127.0.0.1:9068
  prepareDelaySeconds: 30        # 

```
